<%= render 'resources/errors', object: @page_resource %>
<%= render partial: 'forms/form_header', locals: {form_title: "New Debt"} %>
<p class="form-category"><%= @type_category %></p>
<%= form_for(@page_resource) do |f| %>

  <%= hidden_field_tag "debt[type_id]", @type.id %>

  <!-- REDO ALL FORM FIELDS THIS WAY -->
  <%= render partial: "shared/form_section", locals: {form_object: f, label_for: :name, label_name: "Name", form_method: form_name(f, @type_category, @type.name)} %>

  <%= render partial: "shared/form_section", locals: {form_object: f, label_for: :amount, label_name: "Amount", form_method: form_amount(f)} %>

  <%= render partial: "shared/form_section", locals: {form_object: f, label_for: :interest, label_name: "Interest", form_method: form_interest(f)} %>

  <%= render partial: "shared/form_section", locals: {form_object: f, label_for: :compound_frequency, label_name: "Compound Frequency", form_method: form_compound_frequency(f)} %>

  <%= render partial: "shared/form_submit", locals: {button_text: "Add Debt"} %>

<% end %>

<%= render 'forms/form_footer' %>